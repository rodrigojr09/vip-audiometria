(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{3891:(e,a,l)=>{"use strict";l.r(a),l.d(a,{default:()=>w});var s=l(7876),n=l(6820),r=l(4232),t=l(8162);function o(e){let{onClose:a}=e,{pessoa:{...l},...o}=(0,t.J)(),[d,i]=(0,r.useState)(l.resultados||{od:"",oe:"",d250:"",d500:"",d1000:"",d2000:"",d3000:"",d4000:"",d6000:"",d8000:"",dcera:"",e250:"",e500:"",e1000:"",e2000:"",e3000:"",e4000:"",e6000:"",e8000:"",ecera:"",obs:""}),c=e=>{i(a=>({...a,[e.target.name]:e.target.value}))},x=async e=>{if(e.preventDefault(),await o.update({...l,resultados:{...d,obs:d.obs.replaceAll("\n","<br>")}})){alert("Exame registrado com sucesso!");let e=await o.get(l.id);Array.isArray(e)||o.set(e),a()}else alert("Erro ao finalizar exame!")};return(0,s.jsxs)("form",{onSubmit:x,className:"bg-gray-900 p-6 w-full ml-[25%] h-full min-h-max text-white shadow-xl rounded-lg",children:[(0,s.jsx)("h2",{className:"text-center text-xl font-semibold mb-6",children:"Formul\xe1rio de Exames"}),(0,s.jsx)("h3",{className:"mt-4 font-semibold",children:"Resultados"}),(0,s.jsxs)("div",{className:"flex space-x-4 w-full",children:[(0,s.jsxs)("div",{className:"flex flex-col w-full",children:[(0,s.jsx)(n.A,{label:"Ouvido Direito",name:"od",type:"select",value:d.od,options:["NORMAL","ALTERADO"],onChange:c}),(0,s.jsx)(n.A,{label:"OD 250Hz",name:"d250",value:d.d250,onChange:c}),(0,s.jsx)(n.A,{label:"OD 500Hz",name:"d500",value:d.d500,onChange:c}),(0,s.jsx)(n.A,{label:"OD 1000Hz",name:"d1000",value:d.d1000,onChange:c}),(0,s.jsx)(n.A,{label:"OD 2000Hz",name:"d2000",value:d.d2000,onChange:c}),(0,s.jsx)(n.A,{label:"OD 3000Hz",name:"d3000",value:d.d3000,onChange:c}),(0,s.jsx)(n.A,{label:"OD 4000Hz",name:"d4000",value:d.d4000,onChange:c}),(0,s.jsx)(n.A,{label:"OD 6000Hz",name:"d6000",value:d.d6000,onChange:c}),(0,s.jsx)(n.A,{label:"OD 8000Hz",name:"d8000",value:d.d8000,onChange:c}),(0,s.jsx)(n.A,{label:"OD CERA",name:"dcera",value:d.dcera,onChange:c})]}),(0,s.jsxs)("div",{className:"flex flex-col w-full",children:[(0,s.jsx)(n.A,{label:"Ouvido Esquerdo",name:"oe",type:"select",value:d.oe,options:["NORMAL","ALTERADO"],onChange:c}),(0,s.jsx)(n.A,{label:"OE 250Hz",name:"e250",value:d.e250,onChange:c}),(0,s.jsx)(n.A,{label:"OE 500Hz",name:"e500",value:d.e500,onChange:c}),(0,s.jsx)(n.A,{label:"OE 1000Hz",name:"e1000",value:d.e1000,onChange:c}),(0,s.jsx)(n.A,{label:"OE 2000Hz",name:"e2000",value:d.e2000,onChange:c}),(0,s.jsx)(n.A,{label:"OE 3000Hz",name:"e3000",value:d.e3000,onChange:c}),(0,s.jsx)(n.A,{label:"OE 4000Hz",name:"e4000",value:d.e4000,onChange:c}),(0,s.jsx)(n.A,{label:"OE 6000Hz",name:"e6000",value:d.e6000,onChange:c}),(0,s.jsx)(n.A,{label:"OE 8000Hz",name:"e8000",value:d.e8000,onChange:c}),(0,s.jsx)(n.A,{label:"OE CERA",name:"ecera",value:d.ecera,onChange:c})]})]}),(0,s.jsx)(n.A,{label:"Observa\xe7\xf5es",name:"obs",type:"area",value:d.obs.replaceAll("<br>","\n"),onChange:c}),(0,s.jsxs)("div",{className:"flex space-x-4",children:[(0,s.jsx)("button",{type:"submit",className:"bg-green-500 hover:bg-green-600 w-full text-white p-3 rounded font-semibold mt-4",children:"Salvar Exame"}),(0,s.jsx)("button",{type:"button",onClick:a,className:"bg-red-500 hover:bg-red-600 w-full text-white p-3 rounded font-semibold mt-4",children:"Voltar"})]})]})}var d=l(4179),i=l(1368);let c=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),x=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,a,l)=>l?l.toUpperCase():a.toLowerCase()),u=e=>{let a=x(e);return a.charAt(0).toUpperCase()+a.slice(1)},h=function(){for(var e=arguments.length,a=Array(e),l=0;l<e;l++)a[l]=arguments[l];return a.filter((e,a,l)=>!!e&&""!==e.trim()&&l.indexOf(e)===a).join(" ").trim()};var m={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let p=(0,r.forwardRef)((e,a)=>{let{color:l="currentColor",size:s=24,strokeWidth:n=2,absoluteStrokeWidth:t,className:o="",children:d,iconNode:i,...c}=e;return(0,r.createElement)("svg",{ref:a,...m,width:s,height:s,stroke:l,strokeWidth:t?24*Number(n)/Number(s):n,className:h("lucide",o),...c},[...i.map(e=>{let[a,l]=e;return(0,r.createElement)(a,l)}),...Array.isArray(d)?d:[d]])}),g=(e,a)=>{let l=(0,r.forwardRef)((l,s)=>{let{className:n,...t}=l;return(0,r.createElement)(p,{ref:s,iconNode:a,className:h("lucide-".concat(c(u(e))),"lucide-".concat(e),n),...t})});return l.displayName=u(e),l},b=g("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),v=g("download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),j=g("upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),f=g("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),y=g("trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);function w(){let{pessoa:e,...a}=(0,t.J)(),[l,n]=(0,r.useState)(!1);return e?l?(0,s.jsx)(o,{onClose:()=>n(!1)}):(0,s.jsxs)("div",{className:"p-6 ml-[25%] h-full w-[75%] relative text-white",children:[(0,s.jsx)("div",{className:"flex justify-between items-center border-b pb-4 mb-6 border-gray-700",children:(0,s.jsxs)("h1",{className:"text-2xl font-bold flex items-center space-x-2",children:[(0,s.jsx)(b,{size:24}),(0,s.jsx)("span",{children:e.nome})]})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"bg-slate-700 p-4 rounded-lg shadow",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-gray-300 mb-2",children:"\uD83D\uDCC4 Informa\xe7\xf5es Pessoais"}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Nome:"})," ",e.nome]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"CPF:"})," ",e.cpf]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Data de Nascimento:"})," ",(0,d.A)(e.dataNascimento).format("DD/MM/YYYY")]})]}),(0,s.jsxs)("div",{className:"bg-slate-700 p-4 rounded-lg shadow",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-gray-300 mb-2",children:"\uD83D\uDCCC Audiometria"}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Tipo do Exame:"})," ",e.tipoExame]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Data do Exame:"})," ",(0,d.A)(e.dataExame).format("DD/MM/YYYY")]})]})]}),(0,s.jsxs)("div",{className:"flex justify-between w-full space-x-4 mt-6",children:[(0,s.jsxs)("button",{onClick:()=>a.download(e.id,"resultado"),disabled:!e.resultados,className:"flex items-center space-x-2 bg-green-600 hover:bg-green-700 px-4 py-2 w-1/4 rounded-lg transition disabled:opacity-50",children:[(0,s.jsx)(v,{size:18}),(0,s.jsx)("span",{children:"Baixar Resultado"})]}),(0,s.jsxs)("button",{onClick:()=>n(!0),className:"flex items-center space-x-2 bg-yellow-500 hover:bg-yellow-600 px-4 py-2 w-1/4 rounded-lg transition",children:[(0,s.jsx)(j,{size:18}),(0,s.jsx)("span",{children:"Fornecer Resultado"})]}),(0,s.jsxs)("button",{onClick:()=>a.download(e.id,"requisicao"),className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 px-4 py-2 w-1/4 rounded-lg transition",children:[(0,s.jsx)(f,{size:18}),(0,s.jsx)("span",{children:"Baixar Requisi\xe7\xe3o"})]}),(0,s.jsxs)("button",{onClick:()=>a.delete(e.id).then(()=>{i.A.emit("get"),a.set(void 0)}),className:"flex items-center space-x-2 bg-red-600 hover:bg-red-700 px-4 py-2 w-1/4 rounded-lg transition",children:[(0,s.jsx)(y,{size:18}),(0,s.jsx)("span",{children:"Deletar"})]})]})]}):(0,s.jsx)("div",{className:"flex items-center ml-[25%] justify-center w-[75%] h-screen text-gray-500",children:"Selecione uma pessoa para mais informa\xe7\xf5es"})}},6760:(e,a,l)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return l(3891)}])},6820:(e,a,l)=>{"use strict";l.d(a,{A:()=>n});var s=l(7876);l(4232);let n=e=>{let{label:a,name:l,value:n,onChange:r,type:t="text",options:o,required:d=!0}=e;return(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)("label",{htmlFor:l,className:"text-sm font-medium text-gray-200",children:a}),"select"===t&&(0,s.jsxs)("select",{id:l,name:l,value:n,onChange:r,className:"border border-vip bg-gray-800 p-2 rounded w-full text-white focus:outline-none focus:ring-2 focus:ring-vip",required:d,children:[(0,s.jsx)("option",{value:"",className:"text-gray-400",children:"---- Selecione o tipo de exame ----"}),null==o?void 0:o.map((e,a)=>(0,s.jsx)("option",{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},a))]}),("text"===t||"date"===t)&&(0,s.jsx)("input",{id:l,type:t,name:l,value:n,onChange:r,className:"border border-vip bg-gray-800 p-2 rounded w-full text-white placeholder-gray-300 focus:outline-none focus:ring-2 focus:ring-vip",placeholder:a,required:d}),"area"===t&&(0,s.jsx)("textarea",{id:l,name:l,value:n,onChange:r,className:"border border-vip bg-gray-800 p-2 rounded w-full text-white placeholder-gray-300 focus:outline-none focus:ring-2 focus:ring-vip",placeholder:a,required:d})]})}}},e=>{var a=a=>e(e.s=a);e.O(0,[636,593,792],()=>a(6760)),_N_E=e.O()}]);